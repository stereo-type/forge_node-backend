# –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ Forge Node

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞**: –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Forge Node –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏. –ó–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**: Forge Node  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–ê–≤—Ç–æ—Ä**: –ñ–∞–ª—è–ª–µ—Ç–¥–∏–Ω–æ–≤ –í—è—á–µ—Å–ª–∞–≤ <evil_tut@mail.ru>  
**–õ–∏—Ü–µ–Ω–∑–∏—è**: UNLICENSED (—á–∞—Å—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç)  
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ workflow, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ TypeScript, NestJS –∏ Next.js

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Forge Node - —ç—Ç–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ workflow —Å —Å–∏—Å—Ç–µ–º–æ–π –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏. –ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –ø–æ–¥–ø–∏—Å–∫–∏:
- **–î–µ–º–æ —Ä–µ–∂–∏–º** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π** - –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–ü–ª–∞—Ç–Ω—ã–π (Pro)** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **Enterprise** - –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

Forge Flow –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–µ—Ä–≤–µ—Ä (—É–ø—Ä–∞–≤–ª–µ–Ω–∫–∞) –¥–ª—è:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –Ω–æ–¥ (—ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ Forge Node)
- –ê–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫
- –ü–æ–≤—ã—à–µ–Ω–∏—è/–ø–æ–Ω–∏–∂–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–π

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Forge Flow (–£–ø—Ä–∞–≤–ª–µ–Ω–∫–∞/License)       ‚îÇ
‚îÇ   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–¥                     ‚îÇ
‚îÇ   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏               ‚îÇ
‚îÇ   - –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–π        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ HTTP API (–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
                  ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Forge Node (–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è)       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Next.js Frontend (Port 3000)     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - React 19                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - TanStack Query                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Zustand                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Tailwind CSS                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Socket.io Client               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä workflow   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                  ‚îÇ HTTP/WS               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  NestJS Backend (Port 3001)       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - REST API                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - WebSocket Gateway              ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Workflow Engine                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - TypeORM                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - BullMQ (–æ—á–µ—Ä–µ–¥—å)               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Passport JWT                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - License Manager                ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ           ‚îÇ          ‚îÇ                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  PostgreSQL   ‚îÇ  ‚îÇ  Redis          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Port 5432)  ‚îÇ  ‚îÇ  (Port 6379)    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –ë–î         ‚îÇ  ‚îÇ  - –ö—ç—à          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - –î–∞–Ω–Ω—ã–µ     ‚îÇ  ‚îÇ  - –û—á–µ—Ä–µ–¥—å      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  - Workflow   ‚îÇ  ‚îÇ  - –°–µ—Å—Å–∏–∏       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îÇ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
       ‚Üì
   [–ë—Ä–∞—É–∑–µ—Ä]
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

1. **Frontend (Next.js)**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ Zustand
   - Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Socket.io
   - Responsive –¥–∏–∑–∞–π–Ω —Å Tailwind CSS

2. **Backend (NestJS)**
   - REST API –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
   - WebSocket –¥–ª—è real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
   - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
   - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT)
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π –∑–∞–¥–∞—á

3. **PostgreSQL**
   - –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
   - –•—Ä–∞–Ω–µ–Ω–∏–µ workflow, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ TypeORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

4. **Redis**
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   - –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ BullMQ
   - Pub/Sub –¥–ª—è real-time —Å–æ–±—ã—Ç–∏–π

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend (NestJS)

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|-----------|
| **NestJS** | 10.4.8 | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **TypeScript** | 5.7.2 | –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **TypeORM** | 0.3.20 | ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL |
| **PostgreSQL** | 16 | –û—Å–Ω–æ–≤–Ω–∞—è –ë–î |
| **Passport JWT** | 4.0.1 | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
| **BullMQ** | 5.32.2 | –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á |
| **IORedis** | 5.4.2 | –ö–ª–∏–µ–Ω—Ç Redis |
| **class-validator** | 0.14.1 | –í–∞–ª–∏–¥–∞—Ü–∏—è DTO |
| **class-transformer** | 0.5.1 | –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö |
| **nestjs-i18n** | latest | –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–ø–µ—Ä–µ–≤–æ–¥—ã) |
| **bcrypt** | 5.1.1 | –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π |
| **uuid** | 11.0.3 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UUID |

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏**:
- `@nestjs/config` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- `@nestjs/platform-express` - Express –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- `@nestjs/platform-socket.io` - WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- `@nestjs/websockets` - WebSocket –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

### Frontend (Next.js)

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|-----------|
| **Next.js** | 15.1.0 | React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **React** | 19.0.0 | UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
| **TypeScript** | 5.7.2 | –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **TanStack Query** | 5.62.7 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º |
| **Zustand** | 5.0.2 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º |
| **Socket.io Client** | 4.8.1 | WebSocket –∫–ª–∏–µ–Ω—Ç |
| **Tailwind CSS** | 3.4.17 | CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **PostCSS** | 8.4.49 | CSS –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä |
| **Autoprefixer** | 10.4.20 | CSS –∞–≤—Ç–æ–ø—Ä–µ—Ñ–∏–∫—Å–µ—Ä |

### DevOps –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|-----------|
| **Docker** | 20.10+ | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è |
| **Docker Compose** | 2.0+ | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| **pnpm** | 8.15.0 | –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ (monorepo) |
| **Node.js** | 20+ | Runtime –æ–∫—Ä—É–∂–µ–Ω–∏–µ |

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----------|
| **Jest** | Unit —Ç–µ—Å—Ç—ã (backend + frontend) |
| **ts-jest** | TypeScript –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Jest |
| **Supertest** | E2E —Ç–µ—Å—Ç—ã API |
| **@nestjs/testing** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ NestJS –º–æ–¥—É–ª–µ–π |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
forge-node/
‚îÇ
‚îú‚îÄ‚îÄ backend/                    # NestJS Backend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modules/           # –ú–æ–¥—É–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ health/        # ‚úÖ –ú–æ–¥—É–ª—å health check
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ health.controller.ts
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ health.service.ts
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ health.module.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/            # –û–±—â–∏–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ decorators/    # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ filters/       # Exception —Ñ–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guards/        # Auth/Role guards
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ interceptors/  # HTTP interceptors
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ typeorm.config.ts (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.ts            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.module.ts      # –ö–æ—Ä–Ω–µ–≤–æ–π –º–æ–¥—É–ª—å
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ test/                  # E2E —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îú‚îÄ‚îÄ nest-cli.json
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ frontend/                   # Next.js Frontend (Git Submodule)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app/               # App Router —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ page.tsx       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ layout.tsx     # Root layout
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ globals.css    # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ next.config.ts
‚îÇ   ‚îú‚îÄ‚îÄ tailwind.config.ts
‚îÇ   ‚îú‚îÄ‚îÄ postcss.config.mjs
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ .docker/                    # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ db/
‚îÇ       ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ       ‚îî‚îÄ‚îÄ initdb/
‚îÇ
‚îú‚îÄ‚îÄ compose.yaml               # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package.json               # Root package.json (workspaces)
‚îú‚îÄ‚îÄ pnpm-workspace.yaml        # pnpm workspaces config
‚îú‚îÄ‚îÄ Makefile                   # –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ README.md                  # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ GETTING_STARTED.md         # –ì–∞–π–¥ –ø–æ –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ CHANGELOG.md               # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ SUBMODULE_SETUP.md         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ submodules
‚îî‚îÄ‚îÄ PROJECT_CONTEXT.md         # üëà –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üîß –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

### Backend –º–æ–¥—É–ª–∏

#### ‚úÖ Health Module (`backend/src/modules/health/`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**Endpoints**:
- `GET /health` - –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ë–î, Redis, –ø–∞–º—è—Ç—å)
- `GET /health/ready` - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- `GET /health/live` - liveness –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ø—Ä–æ—Å—Ç–æ–π –ø–∏–Ω–≥)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```typescript
// health.controller.ts
@Controller('health')
export class HealthController {
  @Get() check() - –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
  @Get('ready') ready() - readiness probe
  @Get('live') live() - liveness probe
}
```

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### `backend/src/main.ts`

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (credentials + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π origin)
- ‚úÖ Global ValidationPipe (whitelist, transform)
- ‚úÖ Global API prefix: `/api`
- ‚úÖ –ü–æ—Ä—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `BACKEND_PORT` (default 3001)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π

#### `backend/src/app.module.ts`

–ö–æ—Ä–Ω–µ–≤–æ–π –º–æ–¥—É–ª—å —Å:
- ‚úÖ ConfigModule (–≥–ª–æ–±–∞–ª—å–Ω—ã–π, `.env.local` + `.env`)
- ‚úÖ TypeORM (PostgreSQL, auto-sync –≤ dev)
- ‚úÖ HealthModule

---

## üìù –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –º–æ–¥—É–ª–∏ (TODO)

### üîí Auth Module (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- JWT —Ç–æ–∫–µ–Ω—ã (access + refresh)
- Password reset
- Email verification
- Role-based access control (RBAC)

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: 
- `@nestjs/passport`
- `@nestjs/jwt`
- `bcrypt`

**Entities**: `User`, `RefreshToken`

### üîÑ Workflow Module (–î–≤–∏–∂–æ–∫ workflow)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–π workflow
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã workflow
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ workflow
- –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç workflow

**Entities**: `Workflow`, `WorkflowVersion`

### üì¶ Nodes Module (–ù–æ–¥—ã workflow)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –Ω–æ–¥
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–¥
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –Ω–æ–¥

**Entities**: `NodeType`, `NodeInstance`

### ‚ñ∂Ô∏è Executions Module (–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ workflow)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ó–∞–ø—É—Å–∫ workflow
- –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry
- Pause/Resume/Cancel
- –û—á–µ—Ä–µ–¥—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ BullMQ

**Entities**: `Execution`, `ExecutionLog`, `ExecutionError`

### üîó Forge Flow Integration (License Module)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–¥—ã –≤ Forge Flow –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ª–∏—Ü–µ–Ω–∑–∏–∏ –ø–æ –∫–ª—é—á—É –∏–ª–∏ —Ç–æ–∫–µ–Ω—É
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (heartbeat)
- –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ/—Ä—É—á–Ω–æ–µ)
- –ü–æ–≤—ã—à–µ–Ω–∏–µ/–ø–æ–Ω–∏–∂–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –±–µ–∑ —Å–≤—è–∑–∏ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∫–æ–π (grace period)

**–£—Ä–æ–≤–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏**:
- **Demo** - 7 –¥–Ω–µ–π, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **Free** - –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ workflow
- **Pro** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Enterprise** - –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### üåê WebSocket Gateway

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Live –ª–æ–≥–∏
- Broadcast —Å–æ–±—ã—Ç–∏–π

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: `@nestjs/websockets`, `socket.io`

### ü§ñ LLM Integrations

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ LLM (Ollama)
- –ü—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω—ã
- Streaming –æ—Ç–≤–µ—Ç–æ–≤

**–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ Pro –∏ –≤—ã—à–µ

### üí≥ Billing Module (–ë–∏–ª–ª–∏–Ω–≥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
- –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–π
- –ê–ø–≥—Ä–µ–π–¥/–¥–∞—É–Ω–≥—Ä–µ–π–¥ –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –í–≤–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –¥–Ω–µ–π –ø–æ–¥–ø–∏—Å–∫–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–≤–æ—Ç (workflow, executions, storage)

**Entities**: `Subscription`, `Payment`, `UsageStatistics`

### üìö API Documentation

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: `@nestjs/swagger`

**–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `/api/docs`

---

## üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `compose.yaml`:

#### 1. `node-db` - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**Image**: `postgres:16`  
**–ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: `forge-node-db`  
**–ü–æ—Ä—Ç—ã**: `5433:5432` (–≤–Ω–µ—à–Ω–∏–π:–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)  
**Volumes**: 
- `node_db_data:/var/lib/postgresql/data` - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- `.docker/db/initdb:/docker-entrypoint-initdb.d` - init —Å–∫—Ä–∏–ø—Ç—ã

**Environment**:
- `TZ=Europe/Moscow`

**Health check**: `pg_isready -d forge_node -U forge_node`

#### 2. `node-redis` - Redis –∫—ç—à –∏ –æ—á–µ—Ä–µ–¥—å

**Image**: `redis:7-alpine`  
**–ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: `forge-node-redis`  
**–ü–æ—Ä—Ç—ã**: `6380:6379`  
**Volumes**: `node_redis_data:/data`  
**Command**: `redis-server --appendonly yes`

**Health check**: `redis-cli ping`

#### 3. `node-backend` - NestJS API —Å–µ—Ä–≤–µ—Ä

**Build context**: `.docker/backend`  
**–ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: `forge-node-backend`  
**–ü–æ—Ä—Ç—ã**: `3001:3001`  
**Volumes**:
- `./backend:/app` - live reload –∫–æ–¥–∞
- `/app/node_modules` - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**Environment**:
- `NODE_ENV=development`
- `REDIS_HOST=forge-node-redis`
- `REDIS_PORT=6379`
- `BACKEND_PORT=3001`
- `FORGE_FLOW_API_URL=http://forge-nginx`
- `LICENSE_KEY=` (–ø—É—Å—Ç–æ–π –¥–ª—è demo —Ä–µ–∂–∏–º–∞)
- `SUBSCRIPTION_LEVEL=demo` (demo/free/pro/enterprise)

**Depends on**: `node-db`, `node-redis`

**Health check**: `wget http://localhost:3001/health`

#### 4. `node-frontend` - Next.js –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**Build context**: `.docker/frontend`  
**–ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: `forge-node-frontend`  
**–ü–æ—Ä—Ç—ã**: `3000:3000`  
**Volumes**:
- `./frontend:/app` - live reload –∫–æ–¥–∞
- `/app/node_modules` - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `/app/.next` - build –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

**Environment**:
- `NODE_ENV=development`
- `NEXT_PUBLIC_API_URL=http://localhost:3001`
- `NEXT_PUBLIC_WS_URL=ws://localhost:3001`
- `FRONTEND_PORT=3000`

**Depends on**: `node-backend`

**Health check**: `wget http://localhost:3000`

### Docker Networks

- **node-network** (bridge) - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### Docker Volumes

- **node_db_data** - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ PostgreSQL
- **node_redis_data** - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Redis

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: `.env`, `.env.local` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–µ–µ)


## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### Makefile –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
make help

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (backend + frontend)
make install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ Docker —Å–µ—Ä–≤–∏—Å—ã
make up

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
make restart

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make logs

# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
make build

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã + volumes + node_modules)
make clean

# –û—Ç–∫—Ä—ã—Ç—å shell –≤ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
make backend

# –û—Ç–∫—Ä—ã—Ç—å shell –≤ frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
make frontend

# –û—Ç–∫—Ä—ã—Ç—å psql –≤ –ë–î
make db
```

### pnpm workspace –∫–æ–º–∞–Ω–¥—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pnpm install:all

# –ó–∞–ø—É—Å–∫ backend –≤ dev —Ä–µ–∂–∏–º–µ (–ª–æ–∫–∞–ª—å–Ω–æ)
pnpm dev:backend

# –ó–∞–ø—É—Å–∫ frontend –≤ dev —Ä–µ–∂–∏–º–µ (–ª–æ–∫–∞–ª—å–Ω–æ)
pnpm dev:frontend

# –°–±–æ—Ä–∫–∞ backend
pnpm build:backend

# –°–±–æ—Ä–∫–∞ frontend
pnpm build:frontend

# Docker –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ pnpm
pnpm docker:up
pnpm docker:down
pnpm docker:logs
pnpm docker:build
```

### Backend –∫–æ–º–∞–Ω–¥—ã (–≤ –ø–∞–ø–∫–µ backend/)

```bash
cd backend

# Development
pnpm start:dev              # –ó–∞–ø—É—Å–∫ —Å watch mode
pnpm start:debug            # –ó–∞–ø—É—Å–∫ —Å debugger

# Production
pnpm build                  # –°–±–æ—Ä–∫–∞
pnpm start:prod             # –ó–∞–ø—É—Å–∫ production

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pnpm test                   # Unit —Ç–µ—Å—Ç—ã
pnpm test:watch             # –¢–µ—Å—Ç—ã –≤ watch mode
pnpm test:cov               # –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
pnpm test:e2e               # E2E —Ç–µ—Å—Ç—ã

# –ú–∏–≥—Ä–∞—Ü–∏–∏ TypeORM
pnpm migration:generate src/migrations/MigrationName
pnpm migration:create src/migrations/MigrationName
pnpm migration:run          # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
pnpm migration:revert       # –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é

# Code Quality
pnpm lint                   # ESLint –ø—Ä–æ–≤–µ—Ä–∫–∞ + –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
pnpm format                 # Prettier —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### Frontend –∫–æ–º–∞–Ω–¥—ã (–≤ –ø–∞–ø–∫–µ frontend/)

```bash
cd frontend

# Development
pnpm dev                    # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 3000)

# Production
pnpm build                  # –°–±–æ—Ä–∫–∞
pnpm start                  # –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞

# Code Quality
pnpm lint                   # Next.js lint
pnpm type-check             # TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
```

### Docker Compose –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫
docker-compose up -d                    # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–µ
docker-compose up -d --build            # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down                     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down -v                  # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å + —É–¥–∞–ª–∏—Ç—å volumes

# –õ–æ–≥–∏
docker-compose logs -f                  # –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f node-backend     # –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

# –°—Ç–∞—Ç—É—Å
docker-compose ps                       # –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose top                      # –ü—Ä–æ—Ü–µ—Å—Å—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
docker-compose exec node-backend sh                     # Shell –≤ backend
docker-compose exec node-backend pnpm migration:run     # –ö–æ–º–∞–Ω–¥–∞ –≤ backend
docker-compose exec node-db psql -U forge_node          # psql –≤ –ë–î

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose build                    # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –≤—Å–µ
docker-compose build node-backend       # –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å
```

---

## üîó URL –∏ endpoints

### –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| **Frontend** | http://localhost:3000 | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| **Backend API** | http://localhost:3001/api | REST API (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º /api) |
| **Health Check** | http://localhost:3001/health | –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è |
| **Health Ready** | http://localhost:3001/health/ready | Readiness probe |
| **Health Live** | http://localhost:3001/health/live | Liveness probe |
| **PostgreSQL** | localhost:5433 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| **Redis** | localhost:6380 | –ö—ç—à –∏ –æ—á–µ—Ä–µ–¥—å |

### Backend API endpoints (–ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ)

```
# Health
GET  /health              - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
GET  /health/ready        - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ
GET  /health/live         - Liveness –ø—Ä–æ–≤–µ—Ä–∫–∞

# Auth (TODO)
POST /api/auth/register   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /api/auth/login      - –í—Ö–æ–¥
POST /api/auth/refresh    - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
POST /api/auth/logout     - –í—ã—Ö–æ–¥

# Workflows (TODO)
GET    /api/workflows           - –°–ø–∏—Å–æ–∫ workflow
POST   /api/workflows           - –°–æ–∑–¥–∞—Ç—å workflow
GET    /api/workflows/:id       - –ü–æ–ª—É—á–∏—Ç—å workflow
PATCH  /api/workflows/:id       - –û–±–Ω–æ–≤–∏—Ç—å workflow
DELETE /api/workflows/:id       - –£–¥–∞–ª–∏—Ç—å workflow

# Executions (TODO)
GET    /api/executions          - –°–ø–∏—Å–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π
POST   /api/executions          - –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow
GET    /api/executions/:id      - –ü–æ–ª—É—á–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
POST   /api/executions/:id/stop - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

# Nodes (TODO)
GET    /api/nodes               - –°–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –Ω–æ–¥
GET    /api/nodes/:type         - –û–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ –Ω–æ–¥—ã

# Subscription / License (TODO)
GET    /api/subscription        - –¢–µ–∫—É—â–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
POST   /api/subscription/activate  - –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é
POST   /api/subscription/upgrade   - –ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å
POST   /api/subscription/renew     - –ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
GET    /api/subscription/usage     - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–≤–æ—Ç
GET    /api/subscription/payments  - –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π

# WebSocket (TODO)
WS /socket.io                   - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
```

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Monorepo —Å pnpm workspaces

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç pnpm workspaces –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è monorepo:

```yaml
# pnpm-workspace.yaml
packages:
  - 'backend'
  - 'frontend'
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ï–¥–∏–Ω–∞—è `node_modules` –¥–ª—è –æ–±—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ª–∏–Ω–∫–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –º–µ–∂–¥—É backend –∏ frontend

### Frontend –∫–∞–∫ Git Submodule

Frontend –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ Git submodule –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è submodule
git submodule add <frontend-repo-url> frontend
git submodule init
git submodule update
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: Frontend —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∞—Å—Ç—å—é –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Ç–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞).

### TypeScript —Å—Ç—Ä–æ–≥–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç—Ä–æ–≥–∏–π TypeScript:

```json
{
  "compilerOptions": {
    "strict": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noImplicitAny": true,
    "noImplicitThis": true
  }
}
```

### Validation Pipeline –≤ NestJS

–ì–ª–æ–±–∞–ª—å–Ω—ã–π ValidationPipe –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:

```typescript
app.useGlobalPipes(
  new ValidationPipe({
    whitelist: true,              // –£–¥–∞–ª—è—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
    transform: true,              // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–∏–ø–æ–≤
    forbidNonWhitelisted: true,   // –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤–∞—Ö
    transformOptions: {
      enableImplicitConversion: true,
    },
  }),
);
```

### –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `nestjs-i18n` –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (–∞–Ω–∞–ª–æ–≥ Symfony Translation):

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ app.module.ts**:
```typescript
import { I18nModule, AcceptLanguageResolver, QueryResolver, HeaderResolver } from 'nestjs-i18n';

I18nModule.forRoot({
  fallbackLanguage: 'en',
  loaderOptions: {
    path: path.join(__dirname, '/i18n/'),
    watch: true,
  },
  resolvers: [
    { use: QueryResolver, options: ['lang'] }, // ?lang=ru
    AcceptLanguageResolver,                     // Accept-Language: ru
    new HeaderResolver(['x-lang']),             // x-lang: ru
  ],
})
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤** (`backend/src/i18n/`):
```
i18n/
‚îú‚îÄ‚îÄ ru/
‚îÇ   ‚îú‚îÄ‚îÄ validation.json    # –ü–µ—Ä–µ–≤–æ–¥—ã –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ errors.json        # –ü–µ—Ä–µ–≤–æ–¥—ã —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ fields.json        # –ü–µ—Ä–µ–≤–æ–¥—ã –Ω–∞–∑–≤–∞–Ω–∏–π –ø–æ–ª–µ–π
‚îî‚îÄ‚îÄ en/
    ‚îú‚îÄ‚îÄ validation.json
    ‚îú‚îÄ‚îÄ errors.json
    ‚îî‚îÄ‚îÄ fields.json
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ**:
```typescript
// –í —Å–µ—Ä–≤–∏—Å–µ
constructor(private readonly i18n: I18nService) {}

async someMethod() {
  const lang = I18nContext.current()?.lang || 'ru';
  const message = await this.i18n.translate('errors.USER_ALREADY_EXISTS', { lang });
  throw new ConflictException(message);
}

// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ —á–µ—Ä–µ–∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
async create(@I18n() i18n: I18nContext) {
  const message = i18n.t('errors.VALIDATION_ERROR');
}
```

**–ö–∞–∫ –∫–ª–∏–µ–Ω—Ç —É–∫–∞–∑—ã–≤–∞–µ—Ç —è–∑—ã–∫**:
- Query: `?lang=ru`
- Header: `Accept-Language: ru`
- Header: `x-lang: ru`

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `I18nValidationExceptionFilter` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏:

```typescript
// main.ts
import { I18nValidationPipe } from 'nestjs-i18n';
import { I18nValidationExceptionFilter } from '@common/filters';

app.useGlobalFilters(new I18nValidationExceptionFilter());
app.useGlobalPipes(new I18nValidationPipe({ ... }));
```

**–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏**:
```json
{
  "statusCode": 400,
  "error": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö",
  "message": "–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö",
  "errors": {
    "email": ["Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º email –∞–¥—Ä–µ—Å–æ–º"],
    "password": ["–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤"]
  },
  "timestamp": "2024-12-18T10:30:45.123Z"
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –û—à–∏–±–∫–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø–æ–ª—è–º (—É–¥–æ–±–Ω–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ —è–∑—ã–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ (–∫–∞–∫ –≤ Symfony)
- –ü–µ—Ä–µ–≤–æ–¥—ã –≤ JSON —Ñ–∞–π–ª–∞—Ö (–ª–µ–≥–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
- Timestamp –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –õ–µ–≥–∫–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –ø–æ–ª—è–º —Ñ–æ—Ä–º—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ

### TypeORM –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –≤ dev)

–í —Ä–µ–∂–∏–º–µ development TypeORM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å—Ö–µ–º—É –ë–î —Å entities:

```typescript
synchronize: configService.get('NODE_ENV') === 'development'
```

**–í–∞–∂–Ω–æ**: –í production –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏!

### Docker multi-stage builds (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

–î–ª—è production –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è multi-stage Docker builds –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤.

### Health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

–í—Å–µ Docker —Å–µ—Ä–≤–∏—Å—ã –∏–º–µ—é—Ç health checks:
- PostgreSQL: `pg_isready`
- Redis: `redis-cli ping`
- Backend: `wget /health`
- Frontend: `wget /`

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞ –∏ restart –ø—Ä–∏ —Å–±–æ—è—Ö.

### –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

Forge Node –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –ø–æ–¥–ø–∏—Å–∫–∏:

#### –¢–∞–±–ª–∏—Ü–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | Demo | Free | Pro | Enterprise |
|-----------|------|------|-----|------------|
| **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | 7 –¥–Ω–µ–π | –ë–µ—Å—Å—Ä–æ—á–Ω–æ | –ü–æ –æ–ø–ª–∞—Ç–µ | –ü–æ –æ–ø–ª–∞—Ç–µ |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ workflow** | 3 | 10 | 100 | –ë–µ–∑–ª–∏–º–∏—Ç |
| **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–π –≤ –º–µ—Å—è—Ü** | 100 | 1,000 | 50,000 | –ë–µ–∑–ª–∏–º–∏—Ç |
| **–†–∞–∑–º–µ—Ä –ë–î** | 100 MB | 500 MB | 10 GB | –ë–µ–∑–ª–∏–º–∏—Ç |
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** | 1 | 3 | 10 | –ë–µ–∑–ª–∏–º–∏—Ç |
| **LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | ‚ùå | ‚ùå | ‚úÖ | ‚úÖ |
| **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –Ω–æ–¥—ã** | ‚ùå | –ë–∞–∑–æ–≤—ã–µ | –í—Å–µ | –í—Å–µ + SDK |
| **API –¥–æ—Å—Ç—É–ø** | ‚ùå | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ | –ü–æ–ª–Ω—ã–π | –ü–æ–ª–Ω—ã–π |
| **WebSocket** | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ |
| **–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç** | ‚ùå | ‚úÖ | ‚úÖ | ‚úÖ |
| **–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞** | –ù–µ—Ç | Email (48—á) | Email (24—á) | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (4—á) |
| **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** | –ë–∞–∑–æ–≤—ã–π | –ë–∞–∑–æ–≤—ã–π | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π | + –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è |

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Guards

```typescript
// –ü—Ä–∏–º–µ—Ä guard –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Ä–æ–≤–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
@Injectable()
export class SubscriptionGuard implements CanActivate {
  canActivate(context: ExecutionContext): boolean {
    const request = context.switchToHttp().getRequest();
    const subscription = request.user.subscription;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
    return subscription.level === 'pro' || subscription.level === 'enterprise';
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
@UseGuards(SubscriptionGuard)
@Post('llm/query')
async queryLLM() { ... }
```

#### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã –±–µ–∑ —Å–≤—è–∑–∏ —Å Forge Flow

- **Grace Period** - 7 –¥–Ω–µ–π –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –ø–æ—Ç–µ—Ä–∏ —Å–≤—è–∑–∏
- **Offline Mode** - –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- **Reconnect** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏
- **Emergency Mode** - –∫—Ä–∏—Ç–∏—á–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–≥–¥–∞

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏

```typescript
// –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
@Cron('0 0 * * *')
async checkLicenseStatus() {
  try {
    const response = await this.forgeFlowClient.checkSubscription();
    await this.updateLocalSubscription(response);
  } catch (error) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º grace period
    this.handleOfflineMode();
  }
}

// –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
async onApplicationBootstrap() {
  const license = await this.licenseService.validateLocal();
  
  if (license.isExpired && !license.gracePeriodActive) {
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ demo —Ä–µ–∂–∏–º
    await this.switchToDemo();
  }
}
```

#### –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–¥–ø–∏—Å–∫–µ

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è:
1. **–õ–æ–∫–∞–ª—å–Ω–æ –≤ PostgreSQL** - –¥–ª—è offline —Ä–µ–∂–∏–º–∞
2. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å Forge Flow** - –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
3. **–ö—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ Redis** - –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
4. **–®–∏—Ñ—Ä—É–µ—Ç—Å—è** - –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–µ –∫–ª—é—á–∏ –∏ —Ç–æ–∫–µ–Ω—ã

---

## üìö –§–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `README.md` | –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, quick start |
| `GETTING_STARTED.md` | –ü–æ—à–∞–≥–æ–≤—ã–π –≥–∞–π–¥ –ø–æ –ø–µ—Ä–≤–æ–º—É –∑–∞–ø—É—Å–∫—É |
| `PROJECT_CONTEXT.md` | üëà –≠—Ç–æ—Ç —Ñ–∞–π–ª - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è AI |
| `CHANGELOG.md` | –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ TODO —Å–ø–∏—Å–æ–∫ |
| `SUBMODULE_SETUP.md` | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git submodules –¥–ª—è frontend |
| `backend/README.md` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Backend API |
| `frontend/README.md` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

---

## üîÑ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏ –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (v1.0.0-alpha)

- [x] –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ monorepo –ø—Ä–æ–µ–∫—Ç–∞
- [x] Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [x] NestJS Backend —Å TypeORM –∏ ConfigModule
- [x] Next.js Frontend —Å Tailwind CSS
- [x] Health Check –º–æ–¥—É–ª—å —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TypeScript, ESLint, Prettier
- [x] Makefile –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [x] –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- [ ] Auth Module (JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- [ ] Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [ ] –û—Å–Ω–æ–≤–Ω—ã–µ entities –¥–ª—è workflow

### üìã –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è (TODO –∏–∑ CHANGELOG.md)

- [ ] License Module - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Forge Flow –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø–æ —É—Ä–æ–≤–Ω—é –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –ú–æ–¥—É–ª—å workflow (Workflow Engine)
- [ ] –ú–æ–¥—É–ª—å –Ω–æ–¥ workflow (Nodes Module)
- [ ] –ú–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è workflow (Executions Module)
- [ ] WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- [ ] –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä workflow (React Flow)
- [ ] –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –Ω–æ–¥
- [ ] LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (OpenAI, Ollama) - –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ Pro+
- [ ] –ë–∏–ª–ª–∏–Ω–≥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- [ ] Unit –∏ E2E —Ç–µ—Å—Ç—ã
- [ ] CI/CD –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (GitHub Actions)
- [ ] Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è)

---

## ü§ñ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è AI

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —ç—Ç–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º –ø–æ–º–Ω–∏:

1. **–≠—Ç–æ monorepo –ø—Ä–æ–µ–∫—Ç** - –∏—Å–ø–æ–ª—å–∑—É–π `pnpm` –≤–º–µ—Å—Ç–æ `npm/yarn`
2. **Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3001**, –∞ –Ω–µ 3000
3. **–í—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `/api`**
4. **Frontend –º–æ–∂–µ—Ç –±—ã—Ç—å Git submodule** - –ø—Ä–æ–≤–µ—Ä—è–π —ç—Ç–æ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
5. **TypeORM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ Prisma** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
6. **BullMQ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ Bull** –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π
7. **Socket.io –¥–ª—è WebSocket**, –∞ –Ω–µ ws –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
8. **–í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ class-validator** –≤ DTO –∫–ª–∞—Å—Å–∞—Ö
9. **–í—Å–µ DTO –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏ @ApiProperty/@ApiPropertyOptional** –¥–ª—è Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
10. **PostgreSQL –ø–æ—Ä—Ç 5433**, –∞ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 5432 (–¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤)
11. **Redis –ø–æ—Ä—Ç 6380**, –∞ –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 6379
12. **–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Å–∏—Å—Ç–µ–º—É –ø–æ–¥–ø–∏—Å–æ–∫** - Demo/Free/Pro/Enterprise —Å —Ä–∞–∑–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
13. **Forge Flow - —ç—Ç–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∫–∞**, –∞ –Ω–µ –≤–æ—Ä–∫–µ—Ä —Å–µ—Ä–≤–µ—Ä (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø–æ–¥–ø–∏—Å–∫–∏, –ª–∏—Ü–µ–Ω–∑–∏–∏)
14. **Forge Node –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç workflow –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–¥–∞–Ω–∏—è –∏–∑–≤–Ω–µ
15. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Guards** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
16. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª–∏–∞—Å—ã –ø—É—Ç–µ–π TypeScript** - `@common/*`, `@modules/*`, `@config/*` –≤–º–µ—Å—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π
17. **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è nestjs-i18n –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤** - –∫–∞–∫ –≤ Symfony, –ø–µ—Ä–µ–≤–æ–¥—ã –≤ JSON —Ñ–∞–π–ª–∞—Ö, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
18. **I18nValidationExceptionFilter –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ —Å –∫–ª—é—á–∞–º–∏ –ø–æ–ª–µ–π** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–≤–æ–¥–æ–º –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –ê–ª–∏–∞—Å—ã –ø—É—Ç–µ–π TypeScript

–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–ª–∏–∞—Å—ã –ø—É—Ç–µ–π –≤ `backend/tsconfig.json`:

```json
"paths": {
  "@/*": ["src/*"],                 // –ö–æ—Ä–µ–Ω—å src/
  "@modules/*": ["src/modules/*"],  // –ú–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  "@common/*": ["src/common/*"],    // –û–±—â–∏–π –∫–æ–¥ (guards, filters, decorators, interceptors)
  "@config/*": ["src/config/*"]     // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
}
```

**‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã** (–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π —Ç–∞–∫):
```typescript
// –ò–º–ø–æ—Ä—Ç –∏–∑ common
import { ValidationExceptionFilter } from '@common/filters';
import { JwtAuthGuard } from '@common/guards';
import { CurrentUser } from '@common/decorators';

// –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π
import { AuthService } from '@modules/auth/auth.service';
import { UserEntity } from '@modules/users/entities/user.entity';

// –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
import { DatabaseConfig } from '@config/database.config';
```

**‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã** (–ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏):
```typescript
// ‚ùå –ü–ª–æ—Ö–æ - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
import { ValidationExceptionFilter } from './common/filters/validation-exception.filter';
import { ValidationExceptionFilter } from '../../common/filters';
import { AuthService } from '../auth/auth.service';
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–∞:

**NestJS Controllers**:
```typescript
@Controller('resource')
export class ResourceController {
  constructor(private readonly service: ResourceService) {}
  
  @Get()
  findAll() { return this.service.findAll(); }
  
  @Post()
  create(@Body() dto: CreateResourceDto) {
    return this.service.create(dto);
  }
}
```

**NestJS DTOs** (—Å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π):
```typescript
import { IsString, IsNotEmpty, IsOptional } from 'class-validator';
import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';

export class CreateResourceDto {
  @ApiProperty({
    description: '–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞',
    example: '–ú–æ–π —Ä–µ—Å—É—Ä—Å',
  })
  @IsString()
  @IsNotEmpty()
  name: string;
  
  @ApiPropertyOptional({
    description: '–û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞',
    example: '–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞',
  })
  @IsString()
  @IsOptional()
  description?: string;
}
```

**–í–∞–∂–Ω–æ**: 
- –í—Å–µ DTO **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã `@ApiProperty()` –∏–ª–∏ `@ApiPropertyOptional()` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π `@ApiProperty()` –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π `@ApiPropertyOptional()` –¥–ª—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (—Å `@IsOptional()`)
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π `description` –∏ `example` –¥–ª—è –ø–æ–Ω—è—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

**TypeORM Entities**:
```typescript
import { Entity, Column, PrimaryGeneratedColumn, CreateDateColumn } from 'typeorm';

@Entity('resources')
export class Resource {
  @PrimaryGeneratedColumn('uuid')
  id: string;
  
  @Column()
  name: string;
  
  @CreateDateColumn()
  createdAt: Date;
}
```

**Next.js App Router (Server Components)**:
```typescript
// app/page.tsx
export default async function Page() {
  const data = await fetchData();
  return <div>{data}</div>;
}
```

**React Client Components**:
```typescript
'use client';
import { useState } from 'react';

export function Component() {
  const [state, setState] = useState();
  return <div onClick={() => setState()}>...</div>;
}
```

**Subscription Guards (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏)**:
```typescript
import { Injectable, CanActivate, ExecutionContext, ForbiddenException } from '@nestjs/common';

@Injectable()
export class ProSubscriptionGuard implements CanActivate {
  canActivate(context: ExecutionContext): boolean {
    const request = context.switchToHttp().getRequest();
    const subscription = request.user?.subscription;
    
    if (!subscription || !['pro', 'enterprise'].includes(subscription.level)) {
      throw new ForbiddenException('This feature requires Pro subscription');
    }
    
    return true;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
@Controller('llm')
export class LLMController {
  @UseGuards(JwtAuthGuard, ProSubscriptionGuard)
  @Post('query')
  async queryLLM(@Body() dto: QueryDto) {
    // –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è Pro –∏ Enterprise
  }
}
```

**Subscription Entity**:
```typescript
import { Entity, Column, PrimaryGeneratedColumn, ManyToOne } from 'typeorm';
import { User } from '@modules/users/entities/user.entity';

export enum SubscriptionLevel {
  DEMO = 'demo',
  FREE = 'free',
  PRO = 'pro',
  ENTERPRISE = 'enterprise',
}

@Entity('subscriptions')
export class Subscription {
  @PrimaryGeneratedColumn('uuid')
  id: string;
  
  @Column({ type: 'enum', enum: SubscriptionLevel, default: SubscriptionLevel.FREE })
  level: SubscriptionLevel;
  
  @Column({ type: 'timestamp', nullable: true })
  expiresAt: Date;
  
  @Column({ default: false })
  isActive: boolean;
  
  @ManyToOne(() => User, user => user.subscription)
  user: User;
}
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–ê–≤—Ç–æ—Ä**: –ñ–∞–ª—è–ª–µ—Ç–¥–∏–Ω–æ–≤ –í—è—á–µ—Å–ª–∞–≤  
**Email**: evil_tut@mail.ru  
**–ü—Ä–æ–µ–∫—Ç**: Forge Node  
**–õ–∏—Ü–µ–Ω–∑–∏—è**: UNLICENSED (—á–∞—Å—Ç–Ω—ã–π)

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2024-12-14*  
*–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: 1.3.0*  
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2024-12-18* - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ:
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∞–ª–∏–∞—Å–æ–≤ –ø—É—Ç–µ–π TypeScript (@common, @modules, @config)
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ @ApiProperty/@ApiPropertyOptional –≤ DTO –¥–ª—è Swagger
- –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ nestjs-i18n (–∫–∞–∫ –≤ Symfony)
- –°—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ JSON —Ñ–∞–π–ª–∞—Ö (validation, errors, fields)
- –ö–∞—Å—Ç–æ–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π (I18nValidationExceptionFilter)
- –§–æ—Ä–º–∞—Ç–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –ø–æ–ª—è–º –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

